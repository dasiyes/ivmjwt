import 'package:ivmjwt/ivmjwt.dart';

/// Verify a given JWT signed with RS256 key
///
Future main() async {
  // A sample JWT - Google`s idTkoken (RS256)
  String idt =
      'eyJhbGciOiJSUzI1NiIsImtpZCI6ImYwOTJiNjEyZTliNjQ0N2RlYjEwNjg1YmI4ZmZhOGFlNjJmNmFhOTEiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJhY2NvdW50cy5nb29nbGUuY29tIiwiYXpwIjoiNjc0MDM0NTIwNzMxLXN2bmZ2aGE3c2JwOTcxdWJnMG1ja2FtYWFjMDdqaGMyLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwiYXVkIjoiNjc0MDM0NTIwNzMxLXN2bmZ2aGE3c2JwOTcxdWJnMG1ja2FtYWFjMDdqaGMyLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwic3ViIjoiMTExMzc4NTczOTE3NjI3ODU0MDU1IiwiZW1haWwiOiJuaWtvbGF5LnRvbmV2QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJhdF9oYXNoIjoiVFlleWR1QUlTM3Qya2dZT0p5MmNuQSIsIm5hbWUiOiJOaWtvbGF5IFRvbmV2IiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hLS9BT2gxNEdqMDdBbEdJdFIzYjRRLWhQRGxVUThwbF9GZXk1VWVNSEdrREtMVkVBPXM5Ni1jIiwiZ2l2ZW5fbmFtZSI6Ik5pa29sYXkiLCJmYW1pbHlfbmFtZSI6IlRvbmV2IiwibG9jYWxlIjoiZW4iLCJpYXQiOjE2MDQ4NjY2NDcsImV4cCI6MTYwNDg3MDI0NywianRpIjoiMjMwMGJmODQ2NTlmMTFmMjY1MGE0YjNmMzdmMWUxNDhlN2Y1MjcyOSJ9.v89V0C7jRxJU0fNS5I2ExV3qk5ki8LNrIVKlRkkz00m19qpwp_qeR2HaPZZrz2Mtv4VBWUzzbKibzieun17H4u9O7DbN0Em2C3th6KD4-BE0JNFHC9CDsBN7Hu336njZ7WkafeOTpS_AJEO07diC39aJxA7StH6UrrCPcam02OmWv_G0lCGZhTkPMiieywQHQ2ELdMQEqcaFCfCCkcargJosSRwAJKx9BTnl2eI5nhXtxuarLXuEvAX1LNkTjYgXAbuOOCUfOzOzgFiP2ITXyk2GrMl35NQefgdoBg3Utoae24c4xFFHUGMYMJ00P7S-gtU25-YiDEwVHhoxGhmURg';

  // String idt =
  //    'eyJhbGciOiJSUzI1NiIsImtpZCI6ImYwOTJiNjEyZTliNjQ0N2RlYjEwNjg1YmI4ZmZhOGFlNjJmNmFhOTEiLCJ0eXAiOiJKV1QifQ.x.hjkg';

  try {
    final res = await IvmJWT.verifyJWTRS256(idt);
    print(res);
  } catch (e) {
    print(e);
  }
}
